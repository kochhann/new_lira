{% load static %}
<!DOCTYPE html>
<html dir="ltr" lang="en-US" xmlns="http://www.w3.org/1999/html">
<head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="author" content="Juliano Kochhann" />

	<!-- Stylesheets
	============================================= -->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Zilla+Slab:wght@400;500&display=swap" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/bootstrap.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/style.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/swiper.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/dark.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/font-icons.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/animate.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/magnific-popup.css' %}" type="text/css" />

	<!-- Application Specific Stylesheet -->
	<link rel="stylesheet" href="{% static 'application/css/furniture/furniture.css' %}" type="text/css" /> <!-- Furniture Custom Css -->
	<link rel="stylesheet" href="{% static 'application/css/furniture/css/fonts.css' %}" type="text/css" /> <!-- Furniture Custom Fonts -->

	<!-- Data table Specific Stylesheet -->
	<link rel="stylesheet" href="{% static 'application/css/components/bs-datatable.css' %}" type="text/css" /> <!-- Furniture Custom Css -->

	<!-- DatePicker CSS -->
	<link rel="stylesheet" href="{% static 'application/css/components/datepicker.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/components/timepicker.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'application/css/components/daterangepicker.css' %}" type="text/css" />

	<link rel="stylesheet" href="{% static 'application/css/custom.css' %}" type="text/css" />

	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link rel="icon" type="image/png" href="https://kochhann.sirv.com/lirasoft/assets/favicon.ico" sizes="16x16">
    <link rel="icon" type="image/png" href="https://kochhann.sirv.com/lirasoft/assets/favicon.ico" sizes="32x32">


	<!-- Document Title
	============================================= -->
	<title>{{ doc_title }} | Lirasoft</title>

</head>

<body class="stretched">

	<!-- Document Wrapper
	============================================= -->
	<div id="wrapper" class="clearfix">

		<!-- Header
		============================================= -->
		<header id="header" class="header-size-sm border-bottom-0">
			<div id="header-wrap">
				<div class="container">
					<div class="header-row justify-content-lg-between">

						<!-- Logo
						============================================= -->
						<div id="logo">
							<a href="{% url 'index' %}" class="standard-logo" data-dark-logo="https://kochhann.sirv.com/lirasoft/assets/Logo%20Site%20Lirasoft.png">
								<img src="https://kochhann.sirv.com/lirasoft/assets/Logo%20Site%20Lirasoft.png" alt="Lira Logo" style="height: 100px;"></a>
							<a href="{% url 'index' %}" class="retina-logo" data-dark-logo="https://kochhann.sirv.com/lirasoft/assets/logo_lira.jpg">
								<img src="https://kochhann.sirv.com/lirasoft/assets/logo_lira.jpg" alt="Lira Logo" style="height: 100px;"></a>
						</div><!-- #logo end -->
						<div id="primary-menu-trigger">
							<svg class="svg-trigger" viewBox="0 0 100 100"><path d="m 30,33 h 40 c 3.722839,0 7.5,3.126468 7.5,8.578427 0,5.451959 -2.727029,8.421573 -7.5,8.421573 h -20"></path><path d="m 30,50 h 40"></path><path d="m 70,67 h -40 c 0,0 -7.5,-0.802118 -7.5,-8.365747 0,-7.563629 7.5,-8.634253 7.5,-8.634253 h 20"></path></svg>
						</div>

						<!-- Primary Navigation
						============================================= -->
						<nav class="primary-menu">

							<ul class="menu-container">
								<!-- Landing page menu -->
								{% if user.is_anonymous %}
								<li class="menu-item">
									<a class="menu-link" href="{% url 'index' %}"><div>Home</div></a>
								</li>
								<li class="menu-item">
									<a class="menu-link" href="{% url 'login' %}"><div>Acessar</div></a>
								</li>
								{% else %}
								<!-- Application page menu -->
									{% if user.is_staff %}
								<li class="menu-item">
									<a class="menu-link" href="{% url 'admin:index' %}"  style="color:darkred;"><div>Administração</div></a>
								</li>
									{% endif %}
								<li class="menu-item">
									<a class="menu-link" href="{% url 'list_customer' 0 %}"><div>Clientes</div></a>
								</li>
								<li class="menu-item">
									<a class="menu-link" href="{% url 'rent_index' %}"><div>Locações</div></a>
								</li>
								<li class="menu-item">
									<a class="menu-link" href="{% url 'wh_index' %}"><div>Inventário</div></a>
								</li>
								<li class="menu-item">
									<a class="menu-link" href="#"><div>Faturamento</div></a>
								</li>
								<li class="menu-item">
									<a class="menu-link" href="{% url 'list_user' %}"><div>Acessos</div></a>
								</li>
								<li class="menu-item">
									<a class="menu-link" href="{% url 'logout' %}"><div>Sair</div></a>
								</li>
								{% endif %}
							</ul>

						</nav><!-- #primary-menu end -->

					</div>
				</div>
			</div>
		</header><!-- #header end -->

		{% include 'messages.html' %}

		<!-- Content
		============================================= -->
		<section id="content">
			<div class="content-wrap">
				<div class="container clearfix">

				{% block content %} {% endblock %}

				</div>
			</div>
		</section>

		<!-- Footer
		============================================= -->
		<footer id="footer" class="dark">
			<!-- Copyrights
			============================================= -->
			<div id="copyrights">
				<div class="container">

					<div class="row col-mb-30">

						<div class="col-md-6 text-center text-md-start">
							Copyrights &copy; 2020 All Rights Reserved by Vortex Group Inc.<br>
							<div class="copyright-links"><a href="#">Terms of Use</a> / <a href="#">Privacy Policy</a></div>
						</div>

						<div class="col-md-6 text-center text-md-end">
							<div class="d-flex justify-content-center justify-content-md-end">
								<a href="#" class="social-icon si-small si-borderless si-facebook">
									<i class="icon-facebook"></i>
									<i class="icon-facebook"></i>
								</a>

								<a href="#" class="social-icon si-small si-borderless si-twitter">
									<i class="icon-twitter"></i>
									<i class="icon-twitter"></i>
								</a>

								<a href="#" class="social-icon si-small si-borderless si-gplus">
									<i class="icon-gplus"></i>
									<i class="icon-gplus"></i>
								</a>

								<a href="#" class="social-icon si-small si-borderless si-pinterest">
									<i class="icon-pinterest"></i>
									<i class="icon-pinterest"></i>
								</a>

								<a href="#" class="social-icon si-small si-borderless si-vimeo">
									<i class="icon-vimeo"></i>
									<i class="icon-vimeo"></i>
								</a>

								<a href="#" class="social-icon si-small si-borderless si-github">
									<i class="icon-github"></i>
									<i class="icon-github"></i>
								</a>

								<a href="#" class="social-icon si-small si-borderless si-yahoo">
									<i class="icon-yahoo"></i>
									<i class="icon-yahoo"></i>
								</a>

								<a href="#" class="social-icon si-small si-borderless si-linkedin">
									<i class="icon-linkedin"></i>
									<i class="icon-linkedin"></i>
								</a>
							</div>

							<div class="clear"></div>

							<i class="icon-envelope2"></i> lirasoft@vortexgroup.com.br <span class="middot">&middot;</span> <i class="icon-headphones"></i> +55-51-99372-8155 <span class="middot">&middot;</span> <i class="icon-skype2"></i> VortexOnSkype
						</div>

					</div>

				</div>
			</div><!-- #copyrights end -->
		</footer><!-- #footer end -->

	</div><!-- #wrapper end -->

	<!-- Go To Top
	============================================= -->
	<div id="gotoTop" class="icon-angle-up"></div>

	<!-- JavaScripts
	============================================= -->
	<script src="{% static 'application/js/jquery.js' %}"></script>
	<script src="{% static 'application/js/plugins.min.js' %}"></script>

	<!-- Data table
	============================================= -->
	<script src="{% static 'application/js/components/bs-datatable.js' %}"></script>

	<!-- DatePicker
	============================================= -->
	<script src="{% static 'application/js/components/moment.js' %}"></script>
	<script src="{% static 'application/js/components/timepicker.js' %}"></script>
	<script src="{% static 'application/js/components/daterangepicker.js' %}"></script>

	<!-- Footer Scripts
	============================================= -->
	<script src="{% static 'application/js/functions.js' %}"></script>

	<script src="{% static 'application/js/jquery.mask.min.js' %}"></script>

	<!-- Show password -->
	<script>
		function show_pwd() {
			var x = document.getElementById("login_pwd");
			if (x.type === "password") {
				x.type = "text";
			} else {
				x.type = "password";
			}
		}
	</script>

	<!-- Data table configuration -->
	<script>
		$(document).ready(function () {
            $('#datatable1').dataTable({
                language: {
                    lengthMenu: 'Exibindo _MENU_ registros por página',
                    zeroRecords: 'Desculpe, sem registros compatíveis',
                    info: 'Pág _PAGE_ de _PAGES_',
                    infoEmpty: 'Sem registros',
                    infoFiltered: '(de um total de _MAX_ vagas)',
                    search: 'Busca',
                    paginate: {
                        first: 'Primeiro',
                        last: 'Último',
                        next: 'Próximo',
                        previous: 'Anterior'
                    },
                },
            });
        });

	</script>

	<!-- Mask configuration https://igorescobar.github.io/jQuery-Mask-Plugin/docs.html -->
	<script>
		$(document).ready(function(){

			$('.money').mask("#.##0,00", {reverse: true});

		 	$('.zipcode').mask('00000-000');

			var PhoneMaskBehavior = function (val) {
			  return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';
			},
			spOptions = {
			  onKeyPress: function(val, e, field, options) {
				  field.mask(PhoneMaskBehavior.apply({}, arguments), options);
				}
			};

			$('.phone').mask(PhoneMaskBehavior, spOptions);

			var cpfMascara = function (val) {
			   return val.replace(/\D/g, '').length > 11 ? '00.000.000/0000-00' : '000.000.000-009';
			},
			cpfOptions = {
			   onKeyPress: function(val, e, field, options) {
				  field.mask(cpfMascara.apply({}, arguments), options);
			   }
			};
			$('.cpfcnpj').mask(cpfMascara, cpfOptions);

		});
	</script>

	<!-- Request data from CNPJ -->
	<script>
		$(document).ready(function(){
		  // Adicionamos o evento onclick ao botão com o ID "pesquisar"
		  $('#comp_id').on('focusout', function(e) {

			// Apesar do botão estar com o type="button", é prudente chamar essa função para evitar algum comportamento indesejado
			e.preventDefault();

			// Aqui recuperamos o cnpj preenchido do campo e usamos uma expressão regular para limpar da string tudo aquilo que for diferente de números
			var cnpj = $('#comp_id').val().replace(/[^0-9]/g, '');

			// Fazemos uma verificação simples do cnpj confirmando se ele tem 14 caracteres
			if(cnpj.length == 14) {

			  // Aqui rodamos o ajax para a url da API concatenando o número do CNPJ na url
			  $.ajax({
				url:'https://www.receitaws.com.br/v1/cnpj/' + cnpj,
				method:'GET',
				dataType: 'jsonp', // Em requisições AJAX para outro domínio é necessário usar o formato "jsonp" que é o único aceito pelos navegadores por questão de segurança
				complete: function(xhr){

				  // Aqui recuperamos o json retornado
				  response = xhr.responseJSON;

				  // Na documentação desta API tem esse campo status que retorna "OK" caso a consulta tenha sido efetuada com sucesso
				  if(response.status == 'OK') {

					// Agora preenchemos os campos com os valores retornados
					$('#corporate_name').val(response.nome);
					$('#name').val(response.fantasia);
					$('#street_id').val(response.logradouro);
					$('#number_id').val(response.numero);
					$('#further_info_id').val(response.complemento);
					$('#neighborhood_id').val(response.bairro);
					$('#zip_code_id').val(response.cep);
					$('#email_id').val(response.email);

				  // Aqui exibimos uma mensagem caso tenha ocorrido algum erro
				  } else {
					alert(response.message); // Neste caso estamos imprimindo a mensagem que a própria API retorna
				  }
				}
			  });

			// Tratativa para caso o CNPJ não tenha 14 caracteres
			} else {
			  alert('Cliente Pessoa Física');
			}
		  });
		});
	</script>

</body>
</html>